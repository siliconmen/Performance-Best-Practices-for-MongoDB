# 架构设计与索引

MongoDB使用基于BSON的二进制文档数据模型(BSON是基于JSON标准的)。与关系数据库中的平行表(flat tables)不同，MongoDB的文档数据模型与现代编程语言中使用的对象紧密对齐，并且在大多数情况下，由于在单个文档中（而不是分布在多个文档中）中包含实体或对象的相关数据，这样的优点使得它消除了对"多文档事务"或联合查询的需要。将数据建模为文档有最佳实践，正确的方法取决于应用程序的目标。以下注意事项将帮助您在设计应用程序的架构和索引时做出正确的选择：

- **避免大文档。** MongoDB中文档的最大大小为16 MB。实际上，大多数文档都是几千字节或更少。我们可以把文档想象成表格中的行而不是表格本身。不要在单个文档中维护记录列表，而是将每个记录作为文档处理。对于大型媒体项目（如视频或图像），可以考虑使用[GridFS](https://docs.mongodb.com/manual/core/gridfs/)（GridFS这是一种由所有相关驱动程序实现的约定，可自动将二进制数据存储在许多较小的文档中。)

- **避免不必要的长名称。**字段名称在文档中重复并占用空间。通过使用较小的字段名称，您的数据将占用更少的空间，从而允许更多数量的文档放入内存读取。请注意，使用WiredTiger的本机压缩，长字段名称对使用的磁盘空间量的影响较小，但对内存（RAM）的影响是相同的。

